# 网关路由

在微服务下,每个服务节点可能由不同的团队负责,都有着自己独自的,互不相同的接口,如果服务集群缺少一个统一的对外交互的代理人角色,那么外部的服务调用者
需要知道所有服务节点在集群中的精准坐标

简而言之：

网关 = 路由器（基础职能） + 过滤器（可选职能）

## 网关的职责

针对路由这个基本职责, 服务网关考量的是能够支持的“网络层次协议”和“性能和可用性”两方面的因素, 网络层次协议指的是 4层流量转发 和 7层流量代理,
仅从技术实现角度来看，对于路由这项工作，负载均衡器与服务网关在实现上是没有什么差别的，很多服务网关本身就是基于老牌的负载均衡器来实现的，譬如基于 Nginx、HAProxy 开发的 Ingress Controller，基于 Netty 开发的 Zuul 2.0 等；但从目的角度看，负载均衡器与服务网关会有一些区别，
具体在于前者是为了根据**均衡算法对流量进行平均地路由**，后者是为了根据**流量中的某种特征进行正确地路由**。

网关的另一个主要关注点是它的性能与可用性。由于网关是所有服务对外的总出口，是流量必经之地，所以网关的路由性能将导致全局的、系统性的影响